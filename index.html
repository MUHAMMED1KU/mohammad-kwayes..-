<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ğŸŒ™ Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ø±Ù…Ø¶Ø§Ù†ÙŠ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ</title>
<style>
body{direction:rtl;font-family:Tahoma;background:#0f2027;color:white;text-align:center;margin:0;padding:0;}
.box{background:white;color:black;padding:15px;margin:15px auto;max-width:550px;border-radius:12px}
input,button{padding:7px;margin:4px}
button{background:#27ae60;color:white;border:none;border-radius:6px;cursor:pointer}
.red{background:#c0392b}
.progress{background:#ddd;border-radius:20px;overflow:hidden;margin:5px 0}
.bar{height:18px;background:#27ae60}
.small{font-size:13px;color:#333;margin-bottom:2px}
.note{color:#555;font-size:13px}
</style>
</head>

<body>

<h1>ğŸŒ™ Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ø±Ù…Ø¶Ø§Ù†ÙŠ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ</h1>
<p id="publicZekr"></p>
<p>ğŸ¤ Ù„Ø§ ØªÙ†Ø³Ù Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ù„ÙˆØ§Ù„Ø¯ÙŠÙƒ</p>

<!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div class="box">
  <input id="name" placeholder="Ø§Ù„Ø§Ø³Ù…">
  <input id="pass" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
  <br>
  <button id="loginBtn">Ø¯Ø®ÙˆÙ„</button>
</div>

<!-- Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
<div id="panel" class="box" style="display:none">
  <h3 id="welcome"></h3>
  <p id="userZekr"></p>

  <b>ğŸ“– Ø§Ù„Ù‚Ø±Ø¢Ù†</b><br>
  ØµÙØ­Ø§Øª: <span id="pages">0</span> | Ø£Ø¬Ø²Ø§Ø¡: <span id="juz">0</span><br>
  <button onclick="add('pages',1)">+1</button>
  <button onclick="add('pages',5)">+5</button>
  <button class="red" onclick="add('pages',-1)">âˆ’1</button>

  <hr>

  <b>ğŸ¤² Ø§Ù„Ø£Ø°ÙƒØ§Ø±</b><br>
  Ø§Ù„Ø¹Ø¯Ø¯: <span id="azkar">0</span><br>
  <button onclick="add('azkar',10)">+10</button>
  <button class="red" onclick="add('azkar',-10)">âˆ’10</button>

  <hr>

  <b>ğŸ’° Ø§Ù„ØµØ¯Ù‚Ø©</b><br>
  Ø§Ù„Ø¹Ø¯Ø¯: <span id="sadaqa">0</span><br>
  <button onclick="add('sadaqa',1)">+1</button>
  <button class="red" onclick="add('sadaqa',-1)">âˆ’1</button>

  <hr>

  <b>ğŸŒŸ Ø¹Ù…Ù„ ØµØ§Ù„Ø­ Ø¥Ø¶Ø§ÙÙŠ</b><br>
  <button onclick="goodDeed()">Ø£Ø¬Ø± Ø¥Ø¶Ø§ÙÙŠ</button>

  <hr>

  <b>âœ¨ Ø§Ù„Ø­Ø³Ù†Ø§Øª Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠØ©</b><br>
  <span id="hasanat">0</span><br>
  <span class="note">ÙˆØ§Ù„Ù„Ù‡ ÙŠØ¶Ø§Ø¹Ù Ù„Ù…Ù† ÙŠØ´Ø§Ø¡</span>

  <hr>

  <b>ğŸ“– Ø§Ù„Ø®ØªÙ…Ø© Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ©</b><br>
  ØµÙØ­Ø§Øª: <span id="familyQ">0</span> / 604<br>
  <button id="famPlus">+1</button>
  <button id="famMinus" class="red">âˆ’1</button>
</div>

<!-- Ø§Ù„ØªÙ‚Ø¯Ù‘Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ -->
<div class="box">
  <h3>ğŸ Ø§Ù„ØªÙ‚Ø¯Ù‘Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ â€“ Ø§Ù„Ù‚Ø±Ø¢Ù†</h3>
  <div id="list"></div>
  <hr>
  <h3>ğŸ“– Ø§Ù„Ø®ØªÙ…Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©</h3>
  <div id="familyLine"></div>
</div>

<script>
const azkarList=[
"Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡",
"Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡",
"Ø§Ù„Ù„Ù‡Ù… ØµÙ„Ù‘ Ø¹Ù„Ù‰ Ù…Ø­Ù…Ø¯",
"Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…",
"Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…"
];

const defaultUsers={
"Ù‡ÙŠØ«Ù…":{pass:"1111",pages:0,azkar:0,sadaqa:0,bonus:0},
"Ù…ØµØ·ÙÙ‰":{pass:"2222",pages:0,azkar:0,sadaqa:0,bonus:0},
"Ù…Ø­Ù…Ø¯":{pass:"1234",pages:0,azkar:0,sadaqa:0,bonus:0},
"Ø·Ù„Ø§Ù„":{pass:"3333",pages:0,azkar:0,sadaqa:0,bonus:0},
"Ø¬ÙˆØ¯ÙŠ":{pass:"4444",pages:0,azkar:0,sadaqa:0,bonus:0},
"Ø§Ø­Ù…Ø¯":{pass:"5555",pages:0,azkar:0,sadaqa:0,bonus:0},
"Ù…Ù†Ø§Ù„":{pass:"6666",pages:0,azkar:0,sadaqa:0,bonus:0},
"Ù…ÙŠØ§Ø³":{pass:"7777",pages:0,azkar:0,sadaqa:0,bonus:0},
"Ø¹Ø¯Ù†Ø§Ù†":{pass:"8888",pages:0,azkar:0,sadaqa:0,bonus:0}
};

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ùˆ Ø¥Ø¹Ø¯Ø§Ø¯Ù‡Ø§ Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©
let data = JSON.parse(localStorage.getItem("ramadanData") || 
  JSON.stringify({users:defaultUsers,familyQ:0}));

let current=null;

// Ø¹Ø±Ø¶ Ø°ÙƒØ± Ø¹Ø´ÙˆØ§Ø¦ÙŠ
function randZekr(){ return azkarList[Math.floor(Math.random()*azkarList.length)]; }
document.getElementById("publicZekr").innerText=randZekr();

function save(){ localStorage.setItem("ramadanData",JSON.stringify(data)); }

// Ø²Ø± Ø§Ù„Ø¯Ø®ÙˆÙ„
document.getElementById("loginBtn").addEventListener("click",()=>{
  const n=document.getElementById("name").value.trim();
  const p=document.getElementById("pass").value;
  if(!data.users[n]||data.users[n].pass!==p){
    return alert("Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø®Ø·Ø£");
  }
  current=n;
  panel.style.display="block";
  document.getElementById("welcome").innerText="Ø£Ù‡Ù„Ù‹Ø§ "+n;
  document.getElementById("userZekr").innerText=randZekr();

  // Ù…Ø­Ù…Ø¯ ÙÙ‚Ø· ÙŠÙ‚Ø¯Ø± ÙŠØ¹Ø¯Ù‘Ù„ Ø§Ù„Ø®ØªÙ…Ø©
  document.getElementById("famPlus").disabled=document.getElementById("famMinus").disabled=n!=="Ù…Ø­Ù…Ø¯";

  update();
});

function add(type,val){
  const u=data.users[current];
  u[type]=Math.max(0,u[type]+val);
  update();
  save();
}

function goodDeed(){
  data.users[current].bonus+=50;
  alert("ğŸŒ¸ ØªÙ‚Ø¨Ù‘Ù„ Ø§Ù„Ù„Ù‡ Ø¹Ù…Ù„Ùƒ");
  update();
  save();
}

function addFamily(val){
  if(current!=="Ù…Ø­Ù…Ø¯") return;
  data.familyQ=Math.max(0,Math.min(604,data.familyQ+val));
  update();
  save();
}

function update(){
  const u=data.users[current];
  document.getElementById("pages").innerText=u.pages;
  document.getElementById("juz").innerText=Math.floor(u.pages/20);
  document.getElementById("azkar").innerText=u.azkar;
  document.getElementById("sadaqa").innerText=u.sadaqa;
  document.getElementById("hasanat").innerText=u.pages*100+u.azkar+u.sadaqa*10+u.bonus;

  document.getElementById("familyQ").innerText=data.familyQ;

  drawList();
  drawFamily();
}

function drawList(){
  let h="";
  for(let n in data.users){
    const p=data.users[n].pages;
    const percent=Math.min(p/604*100,100);
    h+=`<div class="small">${n}</div>
    <div class="progress"><div class="bar" style="width:${percent}%"></div></div>`;
  }
  document.getElementById("list").innerHTML=h;
}

function drawFamily(){
  document.getElementById("familyLine").innerText=`Ø§Ù„Ø®ØªÙ…Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©: ${data.familyQ} / 604`;
}

// Ø¹Ø±Ø¶ Ø¹Ù†Ø¯ Ø£ÙˆÙ„ ØªØ­Ù…ÙŠÙ„
drawList();
drawFamily();

</script>

</body>
</html>
